-----
### 실무와 정규화
-----
1. 정규화를 사용하는 이유
   - 데이터 중복 최소화 : 불필요한 데이터 중복을 제거하여 저장 공간을 효율적으로 사용
   - 데이터 일관성 및 무결성 확보 : 데이터가 여러 곳에 중복 저장되지 않으므로, 수정 시 발생할 수 있는 데이터 불일치 가능성을 원천적으로 차단
   - 데이터 이상 현상(Anomaly) 해결 : 삽입, 갱신, 삭제 이상 현상을 방지하여 데이터의 신뢰성을 높임
   - 유연한 데이터 구조 : 새로운 데이터 요구사항이 발생했을 때, 테이블 구조 변경을 최소화하며 시스템을 확장할 수 있게 함

2. 정규화의 결과    
   - 우리가 처음에 봤던 재앙적인 disaster_orders 테이블에서 시작해서, 1NF, 2NF, 3NF를 거쳐 최종적으로 테이블
     + member_3nf : 회원 정보를 저장
     + product_2nf : 상품 정보를 저장
     + orders_3nf : 주문 기본 정보를 저장하며, 회원을 참조
     + order_item_2nf : 주문과 상품을 연결하며, 각 상품의 주문 수량과 가격을 저장

  - 최종 목표로 삼았던 테이블 스키마와 정확히 일치
     + member_3nf → member 테이블
     + product_2nf → product 테이블
     + orders_3nf → orders 테이블
     + order_item_2nf → order_item 테이블

   - 결국, 우리가 처음부터 잘 설계된 테이블 구조를 제시했던 것은 바로 이 정규화 원칙을 이미 적용한 결과물

3. 정규화가 왜 필요할까?
   - '정규화 이론을 배우기 전이었는데, 어떻게 우리는 자연스럽게 정규화된 테이블을 생각할 수 있었을까?'
     + 그 이유는 사실 우리의 직관적인 사고방식이 데이터 정규화의 목표와 매우 유사하기 때문임
     + 현실 세계의 사물 이나 개념을 인식할 때, 자연스럽게 다음과 같은 원칙을 적용
        * '하나의 칸에는 하나의 정보만' : 하나의 주문에 여러 상품이 포함될 때, 상품 정보를 한 칸에 노트북, 키보드, 마우스 처럼 몰아넣는 것은 나중에 관리하기 어렵다는 것을 쉽게 예상할 수 있음
          * 각 주문 상품을 별도의 행으로 구분하여 관리하는 것이 훨씬 깔끔하고 명확
          * 이것이 바로 제 1 정규형, 즉 '원자성'의 원칙
        * '하나의 주제는 하나의 묶음으로' : 우리는 '회원'에 대한 정보(이름, 주소, 이메일)와 '상품'에 대한 정보(상품명, 가격, 재고)가 서로 다른 주제라는 것을 본능적으로 암
          * 그래서 자연스럽게 member 테이블과 product 테이블을 분리해서 생각
          * 이것이 바로 제 2 정규형과 제 3 정규형의 핵심 아이디어인 '하나의 기본 키는 하나의 주제에 대한 사실만을 설명해야 한다'는 원칙과 맞닿아 있음
        * '반복되는 정보는 한 곳에서 관리' : '션' 회원이 주문을 100번 하더라도, 그의 이름과 주소를 100번 저장하는 것은 비효율적이라고 직관적으로 느낌
          * 대신 '션'이라는 회원 정보를 한 곳(member 테이블)에만 저장하고, 주문할 때는 그 회원을 가리키는 '표시 member_id)'만 사용하는 것이 합리적
          * 이 방식은 데이터 중복을 피하고 갱신 이상의 문제를 해결하는데, 이는 정확히 제 3 정규화가 달성하려는 목표

   - 이처럼, 상식적이고 합리적으로 데이터를 정리하려는 노력은 자연스럽게 정규화된 형태로 귀결되는 경우가 많음
   - 그렇다면 정규화 이론은 왜 배워야 할까? 정규화는 우리의 직관이 맞았는지 검증할 수 있는 체계적인 도구를 제공
     + 또한, BCNF 예시처럼 우리의 직관만으로는 파악하기 어려운 복잡한 데이터 종속 관계를 발견하고 해결할 수 있는 이론적 기반이 되어줌
     + 즉, 정규화는 우리의 '감'을 '논리'로 바꾸어 주는 과정

4. 실무의 전문가들은 정규화를 어떻게 사용하는가?
   - '1 정규형을 적용하고, 다음은 2정규형...'과 같은 방식으로 생각하지 않음
   - 대신, 다루어야 할 데이터의 본질을 파악하고 '회원', '상품', '주문'과 같은 핵심 개념(엔티티)들을 식별
   - 그리고 각 개념에 맞는 데이터들을 자연스럽게 묶어줌
   - 이처럼 개념을 중심으로 데이터를 모델링하는 사고방식 자체가 이미 정규화의 원칙을 내포하고 있음
   - 전문가에게 정규화 이론은 매번 따라야 하는 규칙 목록이라기보다는, 자신의 직관적인 설계가 논리적으로 탄탄한지 검증하고, 다른 개발자들과 명확하게 소통하기 위한 언어이자 도구에 가까움
   - 즉, 전문가는 정규화 규칙을 '암기'하는 것이 아니라, 수많은 경험을 통해 그 원칙을 '체화'하고 있는 것

5. 실무 경험 기반 설명
   - 실무에서는 보통 제 3 정규형 또는 BCNF까지 정규화를 진행하는 것을 목표
   - 하지만 정규화가 항상 정답인 것은 아님 : 정규화를 진행하면 테이블이 잘게 쪼개지기 때문에, 원하는 데이터를 얻기 위해 여러 테이블을 JOIN 해야 하는 경우가 많아지고, 이는 때로 조회 성능 저하를 유발할 수 있음
   - 따라서, 읽기(SELECT) 작업이 매우 빈번하고 성능이 아주 중요한 일부 시스템에서는, 데이터 중복을 감수하고 JOIN의 수를 줄이기 위해 의도적으로 정규화 원칙을 위배하는 역정규화(Denormalization)를 수행하기도 함
   - 중요한 것은 정규화의 원칙을 명확히 이해하고, 우리가 설계하는 시스템의 특성(데이터의 양, 트랜잭션의 종류, 성능 요구사항 등)에 맞게 정규화와 역정규화 사이에서 최적의 균형점을 찾는 것 : 데이터베이스 설계자의 역량
