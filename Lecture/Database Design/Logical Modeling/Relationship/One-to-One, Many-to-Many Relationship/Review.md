-----
### 정리 - 일대일(1:1) 관계
-----
1. 시작
   - 일대일(1:1) 관계는 두 테이블을 하나로 합치는 것이 더 효율적인 경우가 많아 상대적으로 드물게 사용
   - 그럼에도 불구하고 성능 최적화, 보안 강화, 선택적 정보 표현, 비즈니스 모델에 따른 관심사 분리 등을 위해 1:1 관계를 사용
   - 1:1 관계를 데이터베이스에서 강제하려면, 외래 키(FK) 컬럼에 유니크(UNIQUE) 제약조건을 추가해야 함

2. 외래 키 위치
   - 일대일 관계에서는 외래 키를 주 테이블 또는 보조 테이블 어느 곳에나 둘 수 있지만, 보조 테이블에 외래 키를 두는 것을 권장
   - 보조 테이블에 FK : 주 테이블의 변경 없이 새로운 관계를 추가할 수 있어 확장성이 매우 높고, 향후 1:N 관계로 변경하기 용이하므로, 개방-폐쇄 원칙(OCP)을 만족하는 좋은 설계
   - 주 테이블에 FK : 확장성이 매우 낮고 데이터 추가 로직이 복잡해지는 단점

3. 관계 확장의 유연성
   - 보조 테이블에 외래 키를 두고 UNIQUE 제약조건으로 1:1 관계를 설정한 경우, 비즈니스 요구사항 변경으로 1:N 관계가 필요할 때 UNIQUE 제약조건만 제거하면 쉽게 1:N 관계로 확장할 수 있음
   - 이는 주 테이블의 구조 변경 없이 관계의 카디널리티를 유연하게 변경할 수 있다는 장점을 보여줌

4. 주 테이블에 FK
   - 대부분의 경우 보조 테이블에 FK를 두는 것이 좋지만, 예외적인 상황에서는 주 테이블에 FK를 두는 것을 고려할 수 있음
   - 관계가 필수일 때 : 주 테이블의 FK에 NOT NULL 제약조건을 걸어 데이터 정합성을 데이터베이스 수준에서 강제할 수 있음
   - 조회 성능이 극도로 중요할 때 : JOIN 없이 보조 정보의 존재 여부를 확인할 수 있어 성능상 이점을 가질 수 있으나, 섣부른 최적화는 피해야 함
   - 예외적인 경우를 제외하고는 확장성과 유연성을 위해 보조 테이블에 FK를 두는 것이 표준적인 설계 방식

-----
### 정리 - 다대다(M:N) 관계
-----
1. 관계형 모델의 한계
   - 관계형 데이터베이스는 구조적 한계(원자성, PK 유일성, FK의 단일 행 참조) 때문에 두 개의 테이블만으로는 다대다(M:N) 관계를 직접 표현할 수 없음
   - 어느 테이블에 외래 키를 두더라도 관계형 데이터베이스의 기본 제약을 위반하게 됨

2. 연결 테이블
   - 다대다 관계의 해결책은 중간에 연결 테이블(Junction Table)을 두어, 기존의 다대다 관계를 두 개의 일대다(1:N) 관계로 풀어내는 것
   - 연결 테이블은 양쪽 테이블의 기본 키를 각각 외래 키로 가지며, 두 테이블을 연결하는 다리 역할을 함
   - 이 구조를 통해 JOIN 을 사용하여 양방향으로 데이터를 자유롭게 조회할 수 있음

3. 속성
   - 연결 테이블은 단순히 관계를 이어주는 기술적 역할을 넘어, 관계 자체에 대한 추가적인 속성(예) 주문 수량, 주문 당시 가격)을 저장하는 중요한 역할을 함
   - 실무에서 대부분의 다대다 관계는 속성을 가지므로, 연결 테이블은 '주문 항목'처럼 그 자체로 중요한 비즈니스 의미를 갖는 연관 엔티티(Associative Entity)가 됨
   - 따라서 개념적 모델링 단계에서부터 이미 별도의 엔티티로 식별되는 경우가 많음

4. 개념적, 논리적 모델링
   - 속성이 없는 다대다 관계: 개념적 모델링에서는 M:N 관계로 표현되지만, 논리적 모델링에서는 연결 테이블을 통해 1:N 관계로 풀어내야 함
   - 속성이 있는 다대다 관계: 개념적 모델링 단계에서부터 '연관 엔티티'가 등장하여 1:N 관계로 표현되며, 논리적 모델링에서는 이를 그대로 테이블로 구현
   - 이론적으로는 속성 없는 다대다 관계가 존재하지만, 실무에서는 대부분 숨겨진 속성이 발견되므로 다대다 관계를 발견하면 그 관계 자체에 어떤 정보가 포함될지 고민하는 것이 중요
