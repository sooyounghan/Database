-----
### 정리
-----
1. CASE문 기본 1
   - CASE문은 특정 조건에 따라 데이터를 동적으로 가공하고 새로운 의미를 부여하는 SQL의 조건부 로직 도구
   - CASE문은 단순 CASE 문과 검색 CASE 문, 두 가지 종류로 나뉨
   - 단순 CASE문은 특정 컬럼의 값이 A면 X, B면 Y와 같이 명확하게 정해진 값을 비교할 때 사용
   - 검색 CASE문은 WHEN 절마다 독립적인 조건식을 사용하여 가격 범위나 복합적인 조건을 처리할 때 사용
   - CASE문은 위에서 아래로 순차적으로 조건을 평가하며, 가장 먼저 참이 되는 조건의 결과를 반환하고 즉시 평가를 종료 

2. CASE문 기본 2
   - 검색 CASE문을 사용할 때는 WHEN절의 순서가 매우 중요하며, 잘못 배치하면 의도와 다른 결과가 나올 수 있음
   - 일반적으로 범위가 좁고 구체적인 조건을 더 넓고 포괄적인 조건보다 먼저 배치해야 함
   - CASE문은 SELECT절 뿐만 아니라 ORDER BY, GROUP BY, WHERE절에서도 사용되어 데이터의 표현, 정렬, 그룹화 등 다양한 로직에 활용할 수 있음

3. CASE문 - 그룹핑
   - CASE문을 GROUP BY절과 함께 사용하면, 기존에 없던 새로운 기준으로 데이터를 분류하고 그룹별 통계를 낼 수 있음
   - 쿼리 작성은 2단계로 이루어짐
     + 1단계 (분류) : CASE문으로 각 행에 원하는 분류 라벨을 붙임
     + 2단계 (집계) : 1단계에서 만든 라벨을 기준으로 GROUP BY하고, COUNT()같은 집계 함수로 그룹별 통계를 구함
   - SELECT절에서 CASE문에 부여한 별칭을 GROUP BY절에서 사용하여 쿼리를 간결하게 만들 수 있음

4. CASE문 - 조건부 집계1
   - 조건부 집계는 CASE문을 SUM 이나 COUNT 같은 집계 함수 내부에 넣어 사용하는 강력한 기법
   - 행으로 표현된 데이터를 열로 변환하는 피벗(Pivot) 형태의 보고서를 만들 때 유용
   - 각 조건별로 서브쿼리를 여러 번 사용하면 성능이 저하되므로, 조건부 집계는 테이블을 한 번만 읽어 효율적으로 처리하는 방법

5. CASE문 - 조건부 집계2
   - 조건부 집계는 COUNT(CASE ...) 또는 SUM(CASE ...) 패턴을 주로 사용
      + COUNT(CASE WHEN 조건 THEN 1 END) : 조건이 참일 때만 1을 반환하고, 나머지는 NULL을 반환하여 COUNT가 NULL을 제외하고 세도록 함
      + SUM(CASE WHEN 조건 THEN 1 ELSE 0 END) : 조건이 참이면 1, 아니면 0을 반환하여 합계를 구함으로써 개수를 셈
   - 조건부 집계를 GROUP BY와 함께 사용하면, '카테고리별, 상태별 주문 건수'처럼 다차원적인 분석 보고서를 효율적으로 생성할 수 있음
