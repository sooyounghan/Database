-----
### ALTER : 제약조건 추가
-----
1. 테이블을 생성한 후 제약 조건을 추가하거나 제거하고 싶다면 ALTER 구문 이용
2. 형식
```sql
ALTER TABLE [스키마.]테이블명
ADD CONSTRAINT 제약조건명 제약조건
```

3. TEST_TABLE20 테이블을 생성한다.
```sql
CREATE TABLE TEST_TABLE20 (
DATA1 NUMBER,
DATA2 NUMBER,
DATA3 NUMBER,
DATA4 NUMBER,
DATA5 NUMBER,
DATA6 NUMBER
);
```

4. TEST_TABLE20에 NULL 제약 조건 추가 (컬럼타입 변경)
```sql
ALTER TABLE TEST_TABLE20
MODIFY DATA1 NOT NULL;
```

```sql
INSERT INTO TEST_TABLE(DATA1)
VALUES(10);
```

```sql
INSERT INTO TEST_TABLE(DATA1)
VALUES(NULL);
```
  : 제약조건 위배

5. 제약조건으로 TEST_TABLE에 DATA2에 기본키를 추가한다.
```sql
ALTER TABLE TEST_TABLE
ADD CONSTRAINT TEST_TABLE_DATA20_PK PRIMARY KEY(DATA2);
```

```sql
INSERT INTO TEST_TABLE20 (DATA1, DATA2)
VALUES (1, 10);
```
```sql
INSERT INTO TEST_TABLE20 (DATA1, DATA2)
VALUES (2, 10);

INSERT INTO TEST_TABLE20 (DATA1, DATA2)
VALUES (2, NULL);
```
  : 제약조건에 위배되는 오류 메세지 발생

6. 제약조건으로 TEST_TABL2E20에 DATA3에 외래키(참조 : EMP테이블의 EMPNO를 추가한다.
```sql
ALTER TABLE TEST_TABLE20
ADD CONSTRAINT TEST_TABLE20_DATA3_FK FOREIGN KEY(DATA3)
REFERENCES EMP(EMPNO);
```

```sql
INSERT INTO TEST_TABLE20(DATA1, DATA2, DATA3)
VALUES (10, 100, 7369);
```
```sql
INSERT INTO TEST_TABLE20(DATA1, DATA2, DATA3)
VALUES (10, 100, 200);
```
: EMP 테이블의 EMPNO에 없는 값을 추가하므로 에러 발생

7. 제약조건으로 TEST_TABLE20에 DATA4에 UNIQUE 제약조건을 설정
```sql
ALTER TABLE TEST_TABLE20
ADD CONSTRAINT TEST_TABLE20_DATA4_UK UNIQUE(DATA4);
```

```sql
INSERT INTO TEST_TABLE20 (DATA1, DATA2, DATA4)
VALUES (12, 102, 100);
```

```sql
INSERT INTO TEST_TABLE20 (DATA1, DATA2, DATA4)
VALUES (13, 103, 100);
```
: 제약 조건에 위배

8. 제약조건으로 TEST_TABLE20에 DATA5에 CHECK 제약조건 설정
```sql
ALTER TABLE TEST_TABLE20
ADD CONSTRAINT TEST_TABLE20_DATA5_CK CHECK(DATA5 BETWEEN 1 AND 10);
```

```sql
INSERT INTO TEST_TABLE20 (DATA1, DATA2, DATA5)
VALUES (14, 104, 5);
```

```sql
INSERT INTO TEST_TABLE20 (DATA1, DATA2, DATA5)
VALUES (15, 105, 20);
```
: 제약조건에 위배

9. 제약조건으로 TEST_TABLE20에 DATA6에 CHECK 제약조건 설정
```sql
ALTER TABLE TEST_TABLE20
ADD CONSTRAINT TEST_TABLE20_DATA6_CK CHECK(DATA6 IN (10, 20 ,30));
```

```sql
INSERT INTO TEST_TABLE20 (DATA1, DATA2, DATA6)
VALUES (16, 106, 10);
```

```sql
INSERT INTO TEST_TABLE20 (DATA1, DATA2, DATA6)
VALUES (17, 107, 50);
```
: 제약조건에 위배

-----
### ALTER : 제약조건 삭제
-----
1. 제약조건 삭제를 위해서는 제약조건명을 반드시 명시
2. 형식
```sql
ALTER TABLE [스키마.]테이블명
DROP CONSTRAINT 제약조건명;
```

3. TEST_TABLE30을 생성한다.
```sql
CREATE TABLE TEST_TABLE30 (
DATA1 NUMBER NOT NULL,
DATA2 NUMBER CONSTRAINTS TEST_TABLE30_DATA2_PK PRIMARY KEY,
DATA3 NUMBER CONSTRAINTS TEST_TABLE30_DATA3_FK FOREINGE REFERENCES EMP(EMPNO),
DATA4 NUMBER CONSTRAINTS TEST_TABLE30_DATA4_UK UNIQUE,
DATA5 NUMBER CONSTRAINTS TEST_TABLE30_DATA5_CK CHECK(DATA5 BETWEEN 1 AND 10),
DATA6 NUMBER CONSTRAINTS TEST_TABLE30_DATA6_CK CHECK(DATA6 IN (10, 20, 30))
);
```

4. NOT NULL 제약 조건 제거 (데이터 타입 변경)
```sql
ALTER TABLE TEST_TABLE30
MODIFY DATA1 NULL;
```

```sql
INSERT INTO TEST_TABLE30(DATA1, DATA2)
VALUES (NULL, 100);
```
: DATA1의 제약조건이 NULL로 변경되어 삽입 가능

5. PK 제약 조건 제거
```sql
ALTER TABLE TEST_TABLE30
DROP CONSTRAINT TEST_TABLE30_DATA2_PK;
```

```sql
INSERT INTO TEST_TABLE30(DATA2)
VALUES(NULL);
```
: 제약조건 해제로 NULL값 삽입 가능

6. FK 제약 조건 제거
```sql
ALTER TABLE TEST_TABLE30
DROP CONSTRAINT TEST_TABLE30_DATA3_FK;
```

```sql
INSERT INTO TEST_TABLE30(DATA3)
VALUES(30);
```
: FK 제약조건 제거로 삽입 가능

7. UNIQUE 제약 조건 제거
```sql
ALTER TABLE TEST_TABLE30
DROP CONSTRAINT TEST_TABLE30_DATA4_UK;
```

```sql
INSERT INTO TEST_TABLE30(DATA4)
VALUES(100);
```
```sql
INSERT INTO TEST_TABLE30(DATA4)
VALUES(100);
```
: UNIQUE 제약조건 제거로 중복된 값 삽입 가능

8. CHECK 제약 조건 제거
```sql
ALTER TABLE TEST_TABLE30
DROP CONSTRAINT TEST_TABLE30_DATA5_CK;

ALTER TABLE TEST_TABLE30
DROP CONSTRAINT TEST_TABLE30_DATA6_CK;
```

```sql
INSERT INTO TEST_TABLE30 (DATA5, DATA6)
VALUES (20, 100);
```
: CK 제약조건 제거로 삽입 가능

-----
### ENABLE : 제약조건 활성 / 비활성
-----
1. ENABLE을 사용하면, 제약 조건이 활성화
2. DISABLE을 사용하면, 제약 조건이 비활성화
3. 형식
```sql
ALTER TABLE 테이블명
ENABLE CONSTRAINT 제약조건명;

ALTER TABLE 테이블명
DISABLE CONSTRAINT 제약조건명;
```

4. 제약 조건을 비활성화 한 후, 제약조건을 다시 활성화하면 제약조건에 위배되는 데이터가 하나라도 있으면, 활성화 불가

5. TEST_TABLE40 테이블을 생성한다.
```sql
CREATE TABLE TEST_TABLE40 (
DATA1 NUMBER CONSTRAINT TEST_TABLE40_DATA1_PK PRIMARY KEY
);
```

```sql
INSERT INTO TEST_TABLE40(DATA1)
VALUES(100);
```

```sql
INSERT INTO TEST_TABLE40(DATA1)
VALUES(100);
```
 : 중복 값으로 에러 발생

6. DATA1의 값의 제약 조건을 비활성화 한다.
```sql
ALTER TABLE TEST_TABLE40
DISABLE CONSTRAINT TEST_TABLE40_DATA1_PK;
```

```sql
INSERT INTO TEST_TABLE40(DATA1)
VALUES(100);
```
: 제약 조건 비활성화로 삽입 가능

7. 다시 DATA1의 값의 제약 조건을 활성화한다.
```sql
ALTER TABLE TEST_TABLE40
ENABLE CONSTRAINT TEST_TABLE40_DATA1_PK;
```
: 에러 발생 (현재 DATA1 컬럼에 중복된 값 존재)
